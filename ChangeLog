Changes since V3.0.3

hardaker 23 Oct 95 16:37:43
    - (extensible.c) stopped reporting anything for the disk mib if no
      disks were defined in the snmpd.conf file.  This was causing an
      error in the agent's error mib when no disks were defined and
      someone walks the disk mib.

hardaker 20 Nov 95 16:04:47
    - (README) Added pointer to this file via ftp

hardaker 20 Nov 95 16:05:12
    - (TODO) Find and fix memory leak sometime

hardaker 20 Nov 95 16:07:45
    - (configure.in) Check for -lelf for solaris 2.3 and younger
    - (configure.in) More solaris specifics:  -DSVR4
    - (configure.in) Caches initial prompt in the configure script so you
      won't be bugged twice by the initial question.

hardaker 20 Nov 95 16:08:49
    - (config.h.in) Check for -lelf for solaris 2.3 and younger

hardaker 20 Nov 95 16:09:37
    - (all autoconf built files) Updated everything to autoconf 2.5

hardaker 20 Nov 95 16:10:49
    - (trapnotif) Logs no-responce errors.
    - (trapnotif) Better string checking (quotes all variables now)

hardaker  1 Dec 95 16:20:13
    - local/snmpcheck:       *new features*
      - handles failed snmpwalk/get/sets much more gracefully now
      - new preference:  You can pick what types of problems to check for
        - -f on the command line only checks for fixable problems
      - no longer ping::echos hosts before checking them
        - instead relies on 'No Response' type replies from snmpwalk/get to
          determine if a host is up.
        - ping the host is still an option (through the command line and menus)
      - converted from Tk-b4 to Tk-b8
      - Added a logging window for debugging and tracking of actions.
        - new command line options:  -V NUM  initial log verbosity level
                                     -L      show the log window at startup
      - Now translates mib numbers into more reasonable names

hardaker  5 Dec 95 14:57:14
    - (configure*) added AC_TYPE_PID_T to the configure checks

hardaker  5 Dec 95 15:01:10
    - (snmpcheck)
      - New flag:  -d, don't start checking anything.  Just bring up interface.
      - check for blank output of snmpget before parsing with s///g
        constructs.

hardaker  5 Dec 95 15:05:20
    - (agent/extensible)
      - Bug fix:  alphas and sunoses were reporting incorrect extensible
        exit codes.  (yet another 64/32 bit bug found).
      - Bug fix: agent-update,restart, and cache mib flush entries were
        returning values instead of pointers to values.

hardaker 13 Dec 95 15:27:19
    - (agent/extensible/misc.c) bug fixes for exec items:
      - a second snmpwalk of the exec item would return the old cache
        file.  Fixed by reseting the last cachetime to 0 to always rescan
        after fork/pipe/memory/etc errors.
      - Made lastresult a static var.  Was returning wrong exit codes
        under, strangely enough, only sunos-4 machines.

hardaker 20 Dec 95 09:53:10
    - snmp_open calls getservbyname only once now, at the request of Gary
      Hayward <gah@dirac.bellcore.com>.

hardaker 20 Dec 95 15:56:16
    - Found and fixed a memory leak in the routing table mib.

hardaker 28 Dec 95 10:01:35
    - Added sedscript to the .cvsignore file.

hardaker 28 Dec 95 10:24:37
    - Added a sedscript which is built from config.h and agent/extensible/mibdefs.h
      - used to dynamically build mib.txt and local/snmpcheck.

hardaker 28 Dec 95 12:06:49
    - Created a EXAMPLE.conf file for example usage.

-------------------------------------------------------------------------------

Changes since V3.0.2.1

hardaker 29 Sep 95 13:43:49
    - ported to GNU's autoconfig2.4
      - to install, you must now run ./configure first to generate the
        Makefiles and config.h
      - almost all of the code is now dynamically checked for problems
        rather than being dependant on architecture names.
    - system name now dynamically determined at run time (from uname -n)
    - created a 'make depend' call (finally).
    - (agent/snmp_vars.h) changed SYSNAME define to SYSTEMNAME define to
      avoid a conflict with a solaris header file.
    - protecting better against include header files twice.
    - Most of port to Solaris 2.4 finished.  The kernel reads still need work.

hardaker 29 Sep 95 13:46:43
    - (NEWS) updated the news file.

hardaker  3 Oct 95 09:24:00
    (acconfig.h) Minor bug:  recursive comments not correct for compilers (AIX)

hardaker  3 Oct 95 09:43:54
    (versioninfo.c) Added 3-0-3-A1 tag

hardaker  4 Oct 95 16:53:39
    version tag of versioninfo.c

hardaker  5 Oct 95 15:23:05
    - More Solaris porting.
      - Most mibII entries now work.
         - Haven't checked returned information for accuracy
      - sysUpTime still fails.
      - cc and gcc both compile everything now.

hardaker  5 Oct 95 15:48:23
    version tag of versioninfo.c

hardaker  6 Oct 95 11:37:00
    - (README) Moved INSTALLATION instructions to INSTALL
               Changed listing of supported architectures
               Updated AVAILABILITY section

hardaker  6 Oct 95 16:28:48
    version tag of versioninfo.c

hardaker  6 Oct 95 16:32:04
    - (snmpd.c) Added two new flags:
      -h for help
      -v for version information

hardaker  6 Oct 95 16:32:43
    - (parse.c, snmp.c) added config.h to the list of includes.

hardaker  6 Oct 95 16:40:38
    - (snmpd.c) Usage of --help and --version should work now...  GNU standard.

hardaker  6 Oct 95 16:41:18
    - (NEWS/-TODO) -h/--help, -v/--version command line options

hardaker 11 Oct 95 17:33:26
    - The configure script now prompts for important values to be put in
      config.h.  Some things need to use $(prefix) instead however.
    - (Makefile.in, agent/Makefile.in, apps/Makefile.in)
      + linking to ../snmplib/libsnmp.a instead of ../lib/libsnmp.a to
        remove install requirement.
      +  put ../lib/libsnmp.a in application

hardaker 13 Oct 95 15:45:28
    - (snmpd.c) Added -p port to --help output
    - (config) Setup to use --prefix to look for config files.

hardaker 16 Oct 95 13:01:39
    - (Makefiles) Fairly decent 'make install' now possible.  Installs
      into the directory specified by --prefix for the ./configure script.
    - (extensible.c) config file re-location: now uses the SNMPLIBPATH
      defined loosely as $(prefix)/lib/snmp/.

hardaker 16 Oct 95 15:02:01
    - (Makefiles) make install echos what its doing in a more clear fashion
    - (INSTALL) added better instructions to the INSTALL file.
    - (README) minor wording changes

hardaker 16 Oct 95 16:21:43
    - (snmpd.c) was still looking in /etc for two .conf files.

hardaker 16 Oct 95 16:43:12
    - (apps) all apps were still looking in /etc/ for .conf files

hardaker 17 Oct 95 16:58:32
    version tag ( 3.0.3 ) of versioninfo.c

hardaker 17 Oct 95 17:00:22
    - ChangeLog update


-------------------------------------------------------------------------------

Changes since V3.0.2

hardaker 21 Sep 95 09:27:18
    (snmplib/md5.c) Forgot to include sys/types.h for u_long definition.

-------------------------------------------------------------------------------

Changes since V3.0.1

hardaker 26 Jul 95 16:31:41
    - Added a new #define: EXIT_ON_BAD_KLREAD to config.h
      If defined, and an error occurs while reading the kernel contents,
      the agent will exit.  This was the default.  I wanted it to
      continue.
    
    - Port to dec-alpha/OSF 3.1
      - alpha's long is 8 bytes, not 4.
      - should be (mostly) 64 bit clean now.
      - cleaned up a LOT of bugs CMU code in the process.

hardaker 28 Jul 95 14:23:41
    Yet more problems fixed in the alpha port.
      -- more int -> long checking.

hardaker 31 Jul 95 16:27:47
    - snmpcheck changes:
      - terminal (ascii) based supported fixed.
        - Detects presence of a DISPLAY variable.
        - Now requires the Term::Readkey package.
        - asks users weather to fix problems
      - raises and deiconifies when new problems are found
      - sets the background color of new problems to pinkish
      - new preference:  ping host?
      - global key bindings:
          ctrl-q = quit; ctrl-h = hide; ctrl-s = seen all

hardaker  1 Sep 95 11:57:52
    - Fixed alpha's kernel lookups:
      * CMU code was passing ints into lseek (needs long).

hardaker 18 Sep 95 16:09:25
    Minor mods to README file.

hardaker 18 Sep 95 16:13:49
    Minor bug:
      (sh_count_procs) check if returned file descriptor > 0 before continuing

-------------------------------------------------------------------------------

Changes since V3.0

hardaker 16 Jun 95 10:13:53
    Removed 'gmake' -> 'make' in agent/Makefile

hardaker 16 Jun 95 10:15:42
    House cleaning
      - Compiles cleanly on hpux/gcc
    	(except one include file error I don't have control over.)
      - Change VERSION_ID -> VERSIONID to avoid conflicts with HP's includes.

hardaker 16 Jun 95 14:13:53
    House Cleaning:
      Took out gcc/ansi requirement for the agent.
      perror() is called more frequently for log archival
    
    New Bug/Haven't solved:
      HP-UX:  if agent/*.c and agent/extensible/*.c are built with gcc,
    	  DisplayStrings return garbage.  No clue as to why.

hardaker 16 Jun 95 14:20:48
    House Cleaning:
      Missed a VERSION_ID

hardaker 21 Jun 95 09:11:27
    Changed another "empty" error message in the CMU code to a real warning.

hardaker 21 Jun 95 09:15:31
    Bug Fix:
      Stopped returning a pointer to a non-static char array...  (-> static char)
      Passing wrong pointer to seterrorstatus() in setPerrorstatus()
    
    Feature:
      Added a setable mib entry to the version mib to re-read the config file(s).

hardaker 21 Jun 95 09:18:37
    ece-mib.def:
    Bug Fix:
      Loadave mib:  Integer -> DisplayString
      versionClearCache:  -> read-write (was read-only)
    
    Feature:
      Added a setable mib entry to the version mib to re-read the config file(s).

hardaker 21 Jun 95 09:19:17
    Changed default CC to cc again.

hardaker 21 Jun 95 09:20:23
    snmplib:
      Bug fix:  fdset -> (int *) fdset in select call.

hardaker 10 Jul 95 11:27:00
    Two new command line options:
      -l LOGFILE       Outputs stderr/out to LOGFILE (overrides config.h def)
      -L               Do NOT write to a log file (overrides config.h)

hardaker 10 Jul 95 12:29:32
    - More perror()s converted to set the snmp error status flag on the agent.
    - error status flag is now prioritized.  perrors get the highest so
      other errors won't override them if they happen at a later time.
    - Added the beginnings of a restart mib to the version mib of the
      agent.  Setting this writable mib to one will cause it to exec
      itself again (for remote restart/updates).

hardaker 10 Jul 95 12:30:19
    Minor comment change in config.h

hardaker 14 Jul 95 15:12:40
    - Finished the restart mib.  This is a setable sub-mib of the version
      mib, default to VERSION.12(.1).  If snmp-set to '1', it will restart
      the agent.
    
      *  A side effect of this is that it restarts 3 times or so, since it
         never returns a responce to the program generating the request.
         If said program tries to resend the request (which most do), it
         will AGAIN restart the agent...  oh well.

hardaker 14 Jul 95 15:15:31
    - snmpcheck (tk-perl-b4 script) is pretty stable at this point.  I
      lost curses support, and need to re-add it still, so it is still
      beta.  It does expect a log file of problems to exist (point it to
      /dev/null), and needs to know the locations of the mibs to check
      (which aren't configured by 'make'), so it needs some work.
      However, it will query an agent, check its problems based on the
      status of the error flag (or return code) being >1 and report them
      with neat GUI-buttons and stuff (oh wow).  No documentation on it though.

-------------------------------------------------------------------------------

Changes since 3-0A1:

hardaker  2 Jun 95 16:23:46
    - version update

hardaker  5 Jun 95 12:44:46
    - agent/extensible/Makefile:
        --  no longer requires GNU make
        --  etags no longer run by default
    
    - SunOS additions:
        -- loadaverage checking MIB enabled
        -- disk checking MIB enabled

hardaker  9 Jun 95 10:21:07
    - Added a SNMPBLOCK option to the config.h file.  Supposedily setting
      this to zero (now the default) will allow snmp requests to time out.
      Haven't tested it throughly.
        -- Contributed by Sanjai Narain <narain@thumper.bellcore.com>

hardaker  9 Jun 95 10:21:51
    - Correctly ordered the mib table list.
      --  Need to write a dynamic checker/re-orderer.

hardaker  9 Jun 95 10:23:35
    - Correct usage for snmpwalk is now possible.  IE, snmpwalk target
      .1.3.6.1 will now browse the entire tree.
      -- Still fails on relocatable extensible mibs and will until I
         write a dynamic tree builder.

hardaker  9 Jun 95 14:08:15
    - Changed test -x to test -f in snmplib/Makefile.  Not all OSes
      (ie ultrix) handle this.

hardaker 12 Jun 95 10:35:38
    - local/trapnotif:
      -- uses snmpv2 now (correctly)

hardaker 12 Jun 95 10:37:46
    - Reports all errors through the error mib now instead of through perror().
    - Cleaned up error handling.  Shouldn't handle errors nicely if system
      errors occur when scanning an extensible mib.

hardaker 14 Jun 95 11:24:20
    agent:
    - Mib table is now qsorted at run time and the extensible variables are
      sorted in at this time.  This brings the agent up to correct
      SNMPwalk/getnext protocols.  You can now walk the entire tree
      including the extensible sections and it won't stop.
      * This has an added bonus of checking the mib table
        (agent/snmp_vars.c) for correct order.  I have added things to the
        wrong location too many times and caused the agent to function
        incorrectly.  Major win.

hardaker 14 Jun 95 12:56:49
    - Cleaned up/Added more documentation to config.h
    - GLOBALSECURITY now uses the left most four bits in the MIB acl.
      This is more compatible with the CMU code than using the left most
      2, which was done previously.


hardaker 14 Jun 95 13:43:38
    - Added more documentation to the README file.
    - Created a mailing list to handle announcements
      (ucd-snmp-announce@ece.ucdavis.edu)


