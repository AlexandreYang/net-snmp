<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>UCD-SNMP Tutorial -- snmpset</title>
  </head>

  <body bgcolor="#ffffff" background="/ucd-snmp-bg3.gif">
    <h1>UCD-SNMP Tutorial -- snmpset</h1>
    <p>
      <b>Note:</b>  Much of this tutorial requires <a
	href="ftp://ucd-snmp.ucdavis.edu/ucd-snmp.tar.gz">ucd-snmp-4.2.2</a>!,
	so make sure you get it before running the commands found in
	this tutorial.</b> 
      <p><b>Note:</b>  A new tutorial for net-snmp 5.0 and above <a
      href="/tutorial-5">is available</a> as well.  The commands is
      the ucd-snmp specific tutorial will not work as expected if you
      are using net-snmp and not ucd-snmp.
      <br><br>
    <hr>
    <p>
      The <b>snmpset</b> command is used to actually modify
      information on the remote host.  For each variable you want to
      set, you need to specify the OID to update, the data type and
      the value you want to set it to.
    <p>
      The valid datatypes can be found at the end of the snmpset help
      output:
<pre>
<ul>
% <b>snmpset -h |& tail -4</b>
  type - one of i, u, t, a, o, s, x, d, n
    i: INTEGER, u: unsigned INTEGER, t: TIMETICKS, a: IPADDRESS
    o: OBJID, s: STRING, x: HEX STRING, d: DECIMAL STRING
    U: unsigned int64, I: signed int64, F: float, D: double
</ul>
</pre>
    <p>
      So, lets check, set, and check again the value of a variable
      using snmpget and snmpset:
<pre>
<ul>
% <b>snmpget ucd-snmp.ucdavis.edu demopublic ucdDemoPublicString.0</b>
enterprises.ucdavis.ucdDemoMIB.ucdDemoMIBObjects.ucdDemoPublic.ucdDemoPublicString.0 =  "hi there"
% <b>snmpset ucd-snmp.ucdavis.edu demopublic ucdDemoPublicString.0 s "hello world"</b>
enterprises.ucdavis.ucdDemoMIB.ucdDemoMIBObjects.ucdDemoPublic.ucdDemoPublicString.0 = "hello world"
% <b>snmpget ucd-snmp.ucdavis.edu demopublic ucdDemoPublicString.0</b>
enterprises.ucdavis.ucdDemoMIB.ucdDemoMIBObjects.ucdDemoPublic.ucdDemoPublicString.0
=  "hello world"
</ul>
</pre>
    <p>
      As you can see, we successfully changed the value of the
      ucdDemoPublicString.0 object.
    <p>
      Note that if you don't have write permission to the object, the
      errors will differ greatly between SNMPv1 and SNMPv2c:
<pre>
<ul>
% <b>snmpset ucd-snmp.ucdavis.edu badcommunity ucdDemoPublicString.0 s "hello"</b>
Error in packet.
Reason: (noSuchName) There is no such variable name in this MIB.
This name doesn't exist: ucdDemoPublicString.0
% <b>snmpset -v 2c ucd-snmp.ucdavis.edu badcommunity ucdDemoPublicString.0 s "hello"</b>
Error in packet.
Reason: notWritable
</ul>
</pre>
    <p>SNMPv1 did not have nearly as descriptive error codes, which
    SNMPv2c fixed.  It's a good reason to use SNMPv2c in preference to 
    SNMPv1.  Even better, is to use SNMPv3 which has a much better
    security system and also uses the better error reporting.  We'll
    talk extensively about SNMPv3 later.
    <hr>
    <address><a href="mailto:Wes Hardaker <wjhardaker@ucdavis.edu>"></a></address>
<!-- Created: Thu Nov  4 15:05:29 PST 1999 -->
<!-- hhmts start -->
Last modified: Mon Mar 25 08:39:39 PST 2002
<!-- hhmts end -->
  </body>
</html>
<!--#include virtual="/sfbutton.html" -->
