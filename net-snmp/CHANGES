This file contains a list of specific bugs that have been fixed, and patches
that have been applied in released versions.  Please see the NEWS file for
a summary of the major changes, and the ChangeLog file for a comprehensive
listing of all changes made to the code.


*5.4.1*      (SVN snapshot)

    snmplib:
      - [BUG 1600171]: Support longer community strings in VACM config.
      - [BUG 1660061]: Validate engineIDs more strictly.
      - [PATCH 1548670]: Fix range checks for unsigned integers
      - [PATCH 1592706]: Fix memory leak when cloning varbinds.
      - [PATCH 1616912]: fix memory leak in snmp_udp_transport
      - [PATCH 1634620]: Fix leaks from create_user_from_session failure.
      - [PATCH 1640114]: Don't store trailing null character.
      - [PATCH 1641895]: Extend short view masks (as per RFC specs)
      - [PATCH 1641972]: add missing const
      - library layering improvements: introduce netsnmp_mktemp to prevent
	libnetsnmpagent from depending on libnetsnmpmibs
      - Deallocate the confmibs and confmibdirs
      - Read the config parameters defTarget and
      - [BUG 1619827]: link against needed external
      - [PATCH 1620424]: Honor
      - [PATCH 1653670]: Consistent SNMPv3 behaviour
      - [PATCH 1681030]: Better handling of empty
      - [PATCH 1687316]: Don't drop const from casts.
      - [PATCH 1687325]: Fix problem with operator
      - patch: 1645698: fix 64-bit signed integer
      - [PATCH 1642071]: Don't fiddle with the storage
      - [PATCH 1665543]: Handle VACM checks correctly.
      - FEATURES: 1041888: Check directory paths for
      - FEATURES: 851887: Report range information for
      - Use the default_target argument if it is
      - [BUG 1619827]: link net-snmp libraries and binaries
      - increment "current" and "age" according to
      - Do not use getservbyname to find default port
      - FEATURES: 454028: Detect and handle empty MIB
      - Change snmp_sess_add_ex to consistently close and
      - Patch from "Mitsuru Chinen": cleans up the

    snmpd:
      - [BUG 1397895]: include missing interface declarations
      - [BUG 1416276]: Handle dependency on MIB parsing API.
      - [BUG 1546817]: Fix snmpEnterprise varbind when forwarding v1 traps.
      - [BUG 1600261]: Handle non-x86 /proc/cpuinfo format
      - [BUG 1600432]: Handle signals properly when restarting the agent.
      - [BUG 1633595]: Fix AgentX handling of Counter64 values
      - [PATCH 1601188]: Handle signals properly when restarting the agent.
      - [PATCH 1637287]: Handle multiple target tags correctly.
      - [PATCH 1639282]: Save persistent snmpTargetParamsTable settings correctly.
      - [PATCH 1639360]: Fix snmpNotifyFilterProfileTable row creation.
      - [PATCH 1641332]: Include missing agent config definitions.
      - [PATCH 1641685]: Handle unresponsive AgentX subagents more reliably.
      - [PATCH 1644714]: replace last remaining instance of deprecated
	   copy_word by copy_nword
      - patch from Wojtek Jawor to handle row deletion issues in dataset tables
      - Correct the dependency information for
      - [BUG 1046327]: Reset "includeAllDisks" flag when
      - [BUG 1073782]: Restore PerfStat values for FreeBSD
      - [BUG 1102058]: Skip non-mounted disks (e.g. swap
      - [BUG 1159908]: Fix memory leak
      - [BUG 1413728]: Reference index values in debug
      - [BUG 1602286]: Don't let table holes block later
      - [BUG 1628613]: Restore memTotalFree.0 on Solaris
      - [BUG 1677063]: Check for failed malloc calls.
      - [BUG 1685067]: More precise handling of
      - [BUG 1685081]: Check for valid OID on Free/Undo
      - [BUG 1712988]: default and configurable maximum
      - [BUG 902610]: Don't discard pending data following
      - [BUG 902801]: Fix ordering of SMUX-registered
      - [PATCH 1620424]: Fix notification sending so that
      - [PATCH 1639726]: Report physical memory
      - [PATCH 1641865]: Don't double check snmpTrapOID
      - [PATCH 1642255]: Handle saving long
      - [PATCH 1644280]: Don't automatically probe for
      - [PATCH 1644280]: Use the correct engineID when
      - [PATCH 1659623]: Handle SMUX peers with an empty
      - [PATCH 1665549]: Handle creating VACM entries
      - [PATCH 1665985]: Implement ipReasmTimeout
      - [PATCH 1666737]: include ipv6 counts in
      - [PATCH 1668193]: Fix check for v6 ReasmMaxSize
      - [PATCH 1668193]: Update registration of
      - [PATCH 1668952]: Ignore zombie processes.
      - [PATCH 1676478]: fix udpEndpointRemoteAddress
      - [PATCH 1678788]: Better handling of SMUX socket
      - [PATCH 1683054]: set udpEndpointInstance to
      - [PATCH 1687336]: Start using the enhanced
      - [PATCH 1692768]: Fix copying of non-octet-aligned
      - [PATCH 1698184]: Register non-default context
      - [PATCH 1700730]: Remove unused extern declaration.
      - [PATCH 1700732]: Fix debug output statements.
      - [PATCH 1700737]: Tidy up setSerialNo
      - patch: 1225440: Apply intent of patch: to delay
      - patch: 1595568: from cyril_margaria: fix
      - patch: 1617255: fix length of the history array
      - patch: 1700157: from afrika: fixes ordering of exec
      - patch: 1710632: from mavarley: fix memory leak on
      - patch: 1719253: from "Christian Jung": fix
      - patch: 1719254: from "Christan Jung": update
      - [PATCH 1729629]: Fix memory leak in disman
      - [BUG 1745113]: Handle single-line (and zero-line)

    snmptrapd:
      - [BUG 1638225]: Fix interpretation of transport address data.
      - [PATCH 1620424]: Fix notification reception so
      - patch: 1225440: Apply intent of patch: to
      - upport for forwarding traps by OID subtree.

    apps:
      - [PATCH 1529523]: Close SNMP session on failure.
      - fix the -M switch for setting MIBDIRs

    build:
      - [BUG 1096166]: Handle --without-logfile correctly.
      - [BUG 1647976]: Cygwin/MinGW Windows build fails due to libtool error
      - [PATCH 1625135]: configure location of python interpreter
      - add configure check for hasmntopt to fix the build on systems that lack it
      - yet another fix to address build issues with ethtool (on RH9).
      - [PATCH 1681073]: #ifdef based config_error instead
      - Check for support of static inline functions
      - [BUG 1567324]: Clarify prompting for
      - Link libdl against libnetsnmpmibs instead of
      - Link libkvm and libwrap to libnetsnmpagent
      - [PATCH 1728226]: make sure
      - [PATCH 1728230]: add
      - [PATCH 1728237]: Move
      - only enable mibII/ipv6 through --enable-ipv6 on
      - Disable inlining on solaris as there are some
      - [PATCH 1728244]: Add
      - [PATCH 1728247]: Add type
      - patch from apple to simplify makefile target
      - [PATCH 1728241]: from mitsuru_chinen: add configure check
      - add "BuildRequires: perl-ExtUtils-Embed" to the
      - use LDFLAGS when building agent, helpers and mib
      - work around libnetsnmpagent/libnetsnmphelpers
      - use libtool clean for removing files to ensure we
      - update to libtool 1.5.24 (from 1.5.22)

    documentation:
      - [BUG 1247164]: Document use of OID macros
      - [BUG 1407476]: Clarify MIB parsing toggle options and MIB comment handling.
      - [BUG 1614104]: broken snmpd(8) manual page in 5.4
      - [PATCH 1604580]: SNMP(3) manual page corrections (spotted by tek-ops)
      - [PATCH 1644735]: add gcc build instructions for IRIX

    mib2c:
      - [BUG 1429472]: Protect against missing instances (and invalid objects)
      - [BUG 1582972]: Handle @while@/@end@ properly.
      - [PATCH 1668171]: skip unknown cols in min/max range for tables,
	   instead of error
      - [BUG 833673]: More focused size checks.

    perl:
      - [BUG 1450669]: from martin987: a perl agentx consumes memory
      - [PATCH 1627949]: from martin987: a perl agentx consumes memory
      - fix SNMP SET for IP addresses on 64-bit
      - link Perl modules against the exact set of libraries
      - fix prerequisites for NetSNMP::TrapReceiver
      - fix syntax error in NetSNMP::agent::Support
      - patch: 1725049: fix bulkwalk in cases of non-repeater
      - [BUG 1619827]: link libnetsnmpagent/libnetsnmptrapd
      - install embedded perl init files for

    python:
      - [PATCH 1716114]: Let python build in source tree

    unspecified:
      - [BUG 1558823]: fix ipAddressTable memory leak
      - [BUG 1596638]: memory leak in ipCidrRouteTable, inetCidrRouteTable
      - [BUG 1600093]: autoconf 2.60 breaks the build
      - [BUG 1611524]: fix tcp connection table fd leak
      - [BUG 1633483]: Support CPU HAL on FreeBSD4.x
      - [BUG 1710910]: initial support for DragonFly BSD
      - [PATCH 1678298]: from magfr: compile-subagent checks for
      - [PATCH 1678301]: from magfr: deallocate domain registry
      - [PATCH 1678302]: from magfr: netsnmp_mibindex_load leaks
      - [PATCH 1678305]: from magfr: Deallocate the cache in
      - [PATCH 1678306]: from magfr: Deallocate the log in
      - [PATCH 1719244]: fix mfd generating map function

    AIX:
      - [PATCH 1665079]: AIX patches for cpu stats and process monitoring
      - fix default shared library building instead of forcing
      - build fixes for embedded Perl
      - use "-Wl,-brtl" when compiling with gcc

    FreeBSD:
      - fix configure warning for sys/conf.h
      - add initial support for upcoming FreeBSD 7

    Linux:
      - [BUG 1666005]: Fail to walk ipv6InterfaceTable on Linux
      - [PATCH 1581294]: host-resources improvements
      - fix ethtool configure check for recent systems (e.g. FC6, RHEL5).

    MacOSX:
      - [PATCH 1600453]: OS X compile-time endian determination
      - [PATCH 1600522]: CPU HAL implementation for mach/darwin
      - patch from apple to fix cross-compile builds in apples
      - patch from apple to fix minor documentation bugs.
      - patch from apple to improve memory reporting

    Solaris:
      - [BUG 1626153]: no hrSWRun informations on Solaris zones
      - [PATCH 1623447]: hrSWRun fix: <exited> instead of endOfTable for
	   terminated processes
      - IF-MIB fix: add missing return at end of get_if_stats

    Win32:
      - [BUG 1662987]: compile error on Cygwin
      - [PATCH 1622080]: pass Win32 handles remain open.
      - fix AES support
      - fix win32/Configure --with-ipv6

    IRIX:
      - [PATCH 1709748]: Optimized IRIX cpu stats
      - [PATCH 1675869]: CPU statistics for IRIX

    HP:
      - UX: HP-UX needs _REENTRANT defined to pick up
      - UX: BUG: 1742278: compile error on HP-UX 11.23 (IA64)

    ports:
      - patch: 1706344: from naylor: fix compilation with

*5.4*

    build:
      - [BUG 1416481]: Support specifying an explicit linker.
      - enable-as-needed will try to link built libraries against needed
	libraries at library link time, rather than application link time.

    snmplib:
      - [PATCH 1282566]: to rework transport creation to allow for
	alternative interpretations of the address and a more flexible
	transport registration system
      - [BUGS: 1537459, BUGS: 1540745] Fix missing MIB parsing tokens
      - [PATCH 1562168]: check for a sock fd less than 0.
      - [PATCH 1570650]: create a logging shutdown function to propelry
	clean up log registrations if needed.
      - [PATCH 1565293]: UDPIPv6 transport reports wrong port number
      - rename init_mib to netsnmp_init_mib to avoid symbol clash with
	HP-UX's libnm
      - [PATCH 1509943]: responses will get sent from the original dest IP
	address when possible.

    snmpd:
      - [PATCH 1550725]: A new uint instance helper to match the existing
	int, long and ulong helpers
      - [BUG 1527930]: fix smux authentication
      - [PATCH 1561277]: use net.ipv6.neigh.lo.base_reachable_time_ms
	instead of deprecated base_reachable_time
      - [BUG 1474468]: ifConnectorPresent always returns 0
      - [PATCH 1524755]: to better support the UDPTable for unknown address
	types
      - [PATCH 1534877]: to add support for skipping NFS entries in the
	host resources hrStorageTable.	See the skipNFSInHostResources
	token in the snmpd.conf file for details.
      - [PATCH 1557514 ]: Do not attempt to collect data during SET
	processing.
      - [BUG 1535903]: Support spaces within security names
      - Agent builds default module list from a default_mibs.h rather than
	a hard coded configure list
      - [BUG 1559358]: check scanf results for diskio scanning
      - [BUG 1564233]: Have configure test for rpm headers not just the
	libraries
      - [PATCH 1579364]: Updated darwin patch to fix compilation on Tiger
	and Leapord
      - [PATCH 1565703]: patch to fix rapid registrations/deregistration
	issues
      - [PATCH 1562688]: fix ping/reattach agentx code
      - [PATCH 1551948]: Make pass_persist usable on uClinux
      - [PATCH 1568150]: Extend pass_persist error messages that can be
	passed back from the script
      - [PATCH 1570650]: make delete table function public
      - [PATCH 1575984]: block SIGHUP during reconfig
      - [PATCH 1570982 ]: Solaris IF-MIB: Support for IPv6-only interfaces
      - memTotalFree should report total virtual instead of physical memory
      - build fix for --without-kmem-usage
      - [BUG 1585815]: fix mfd bits length calculation
      - [BUG 1427410]: Set auth engineID for SNMPv3 traps.
      - [BUG 1502267]: Build access list in the correct order.
      - [PATCH 1554827]: from rtyle: fix handling of failed proxy SET
	requests
      - [PATCH 1598966]: Fix bug #1598927: #elif build fix

    snmptrapd:
      - the traphandle directive now supports a -t switch to indicate
	matching any OID in the tree below the specified OID
      - [PATCH 1536773]: support partial oid matching
      - [PATCH 1598968]: Fix bug #1587759: snmptrapd doesn't recognize -A
	option

    snmpdf:
      - [BUG 1515507]: Handle failed requests better

    perl:
      - Fixed the perl bulkwalk function
      - [PATCH 1575937]: fix usenumeric output in async varbinds so they
	return OIDs instead of empty strings.
      - update default_store module to latest default_store c-binding
	tokens
      - make perltest fixes for Solaris 2.6 and earlier
      - fixes for 64-bit platforms
      - make perltest fixes for HP-UX
      - make perltest fixes for IRIX

    mib2c:
      - [BUG 1479916]: Restore consistency in row creation code.

    misc:
      - Most net-snmp specific defines are now (also) available under a
	proper NETSNMP_ prefix. The older, potentially conflicting names as
	well as the autoconf variables can now be turned off by a special
	define.
      - [BUG 1585250]: don't use deprecated options in start script
      - "make test" fixes for non-UDP transports
      - [BUG 1577913]: add missing manual pages for executables, supplied
	by Debian
      - [PATCH 1596028]: from "Stephen J. Friedl": const fixes for the
	mib_api(3) manual page
      - RPM spec file fixes for 64-bit platforms
      - Don't use the legacy symbol

    MacOSX:
      - [PATCH 1566777]: build fixes for memory_darwin.c
      - build fix for mibII/udpTable

    Tru64:
      - fix "auto_nlist failed on arptab_size at location 0" errors

    IRIX:
      - proper implementation for UCD-SNMP-MIB::laTable (avoiding nlist)

    Solaris:
      - [PATCH 1569537,1569539]: new UDP-MIB and TCP-MIB implementation
	(enable through --with-mib-modules=udp-mib,tcp-mib)

    AIX:
      - use correct ARPTAB_SYMBOL and ARPTAB_SIZE_SYMBOL
      - [BUG 1205300]: nlist err: neither nproc nor _nproc found (same for
	rt_table, rthashsize, rthost, rtnet)

