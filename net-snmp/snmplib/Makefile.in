#
# Makefile for snmplib
#
TARG=	libsnmp.a
CSRCS=	snmp_client.c mib.c parse.c snmp_api.c snmp.c snmp_auth.c asn1.c md5.c party.c context.c acl.c view.c party_parse.c context_parse.c acl_parse.c system.c hpux.c
OBJS=	snmp_client.o mib.o parse.o snmp_api.o snmp.o snmp_auth.o asn1.o md5.o party.o context.o acl.o view.o party_parse.o context_parse.o acl_parse.o system.o hpux.o

CFLAGS=@CFLAGS@
CPPFLAGS=@CPPFLAGS@ -I..
LDFLAGS=@LDFLAGS@

CC = @CC@ $(CPPFLAGS)
RANLIB=@RANLIB@

all: $(TARG)

libsnmp.a:    ${OBJS}
	ar r libsnmp.a ${OBJS}
	$(RANLIB) libsnmp.a

install:	../lib/libsnmp.a

../lib/libsnmp.a:	libsnmp.a
	cp libsnmp.a ../lib
	@RANLIB@ ../lib/libsnmp.a


lint:
	lint -nhx $(CSRCS)

clean:
	rm -f ${OBJS} ${TARG}
	rm -f ../lib/${TARG}

depend: 
	makedepend $(CPPFLAGS) *.c
	perl -n -i.bak -e ' if (/^# DO NOT DELETE THIS LINE/) {$$doit=1;} if ($$doit == 1) {s#/usr/include/[^\s]+##g ; print if (! /^\w+\.o:\s*$$/);} else {print;}' Makefile

# DO NOT DELETE THIS LINE -- make depend depends on it.

acl.o: ../config.h ../agent/extensible/struct.h 
acl.o: asn1.h acl.h
acl_parse.o: ../config.h ../agent/extensible/struct.h 
acl_parse.o:  asn1.h acl.h party.h context.h
asn1.o: ../config.h ../agent/extensible/struct.h asn1.h
context.o: ../config.h ../agent/extensible/struct.h 
context.o:  asn1.h context.h
context_parse.o: ../config.h ../agent/extensible/struct.h
context_parse.o:   asn1.h
context_parse.o: context.h system.h
md5.o: ../config.h ../agent/extensible/struct.h 
md5.o:   md5.h
mib.o: ../config.h ../agent/extensible/struct.h 
mib.o: asn1.h snmp.h snmp_impl.h snmp_api.h parse.h
parse.o:  parse.h
party.o: ../config.h ../agent/extensible/struct.h 
party.o:  asn1.h party.h
party_parse.o: ../config.h ../agent/extensible/struct.h 
party_parse.o:   asn1.h
party_parse.o: party.h system.h
snmp.o:   asn1.h snmp.h
snmp.o: snmp_impl.h  mib.h
snmp_api.o: ../config.h ../agent/extensible/struct.h 
snmp_api.o:   asn1.h snmp.h
snmp_api.o: snmp_impl.h snmp_api.h
snmp_auth.o: ../config.h ../agent/extensible/struct.h
snmp_auth.o:   asn1.h snmp.h
snmp_auth.o: snmp_impl.h  party.h context.h md5.h acl.h
snmp_client.o: ../config.h ../agent/extensible/struct.h
snmp_client.o:   asn1.h snmp.h
snmp_client.o: snmp_impl.h snmp_api.h snmp_client.h party.h context.h view.h
snmp_client.o: acl.h ../config.h
system.o: ../config.h ../agent/extensible/struct.h 
system.o:   system.h
view.o: ../config.h ../agent/extensible/struct.h 
view.o:  asn1.h view.h
