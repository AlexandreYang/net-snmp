.TH "A generic callback mechanism" 3 "15 Mar 2004" "net-snmp" \" -*- nroff -*-
.ad l
.nh
.SH NAME
A generic callback mechanism \- 
.SS "Functions"

.in +1c
.ti -1c
.RI "int \fBsnmp_register_callback\fP (int major, int minor, SNMPCallback *new_callback, void *arg)"
.br
.RI "\fIThis function registers a generic callback function.\fP"
.ti -1c
.RI "int \fBsnmp_call_callbacks\fP (int major, int minor, void *caller_arg)"
.br
.RI "\fIThis function calls the callback function for each registered callback of type major and minor.\fP"
.ti -1c
.RI "int \fBsnmp_unregister_callback\fP (int major, int minor, SNMPCallback *target, void *arg, int matchargs)"
.br
.RI "\fIThis function unregisters a specified callback function given a major and minor type.\fP"
.in -1c
.SH "FUNCTION DOCUMENTATION"
.PP 
.SS "int snmp_call_callbacks (int major, int minor, void * caller_arg)"
.PP
This function calls the callback function for each registered callback of type major and minor.
.PP
\fBParameters: \fP
.in +1c
.TP
\fB\fImajor\fP\fP
is the SNMP callback major type used
.TP
\fB\fIminor\fP\fP
is the SNMP callback minor type used
.TP
\fB\fIcaller_arg\fP\fP
is a void pointer which is sent in as the callback's  serverarg parameter, if needed.
.PP
\fBReturns: \fP
.in +1c
Returns SNMPERR_GENERR if major is >= MAX_CALLBACK_IDS or minor is >= MAX_CALLBACK_SUBIDS, otherwise SNMPERR_SUCCESS is returned.
.PP
\fBSee also: \fP
.in +1c
\fBsnmp_register_callback\fP , \fBsnmp_unregister_callback\fP 
.PP
Definition at line 166 of file callback.c.
.PP
Referenced by netsnmp_acm_check_subtree(), netsnmp_register_mib_table_row(), snmp_shutdown(), and unregister_mib_context().
.SS "int snmp_register_callback (int major, int minor, SNMPCallback * new_callback, void * arg)"
.PP
This function registers a generic callback function.
.PP
The major and minor values are used to set the new_callback function into a global  static multi-dimensional array of type struct snmp_gen_callback.  The function makes sure to append this callback function at the end of the link list, snmp_gen_callback->next.
.PP
\fBParameters: \fP
.in +1c
.TP
\fB\fImajor\fP\fP
is the SNMP callback major type used
.TP
SNMP_CALLBACK_LIBRARY
.TP
SNMP_CALLBACK_APPLICATION
.PP
\fBParameters: \fP
.in +1c
.TP
\fB\fIminor\fP\fP
is the SNMP callback minor type used
.TP
SNMP_CALLBACK_POST_READ_CONFIG
.TP
SNMP_CALLBACK_STORE_DATA 
.TP
SNMP_CALLBACK_SHUTDOWN 
.TP
SNMP_CALLBACK_POST_PREMIB_READ_CONFIG 
.TP
SNMP_CALLBACK_LOGGING 
.TP
SNMP_CALLBACK_SESSION_INIT
.PP
\fBParameters: \fP
.in +1c
.TP
\fB\fInew_callback\fP\fP
is the callback function that is registered.
.TP
\fB\fIarg\fP\fP
when not NULL is a void pointer used whenever new_callback  function is exercised.
.PP
\fBReturns: \fP
.in +1c
 Returns SNMPERR_GENERR if major is >= MAX_CALLBACK_IDS or minor is >= MAX_CALLBACK_SUBIDS or a snmp_gen_callback pointer could not be  allocated, otherwise SNMPERR_SUCCESS is returned.
.TP
define MAX_CALLBACK_IDS 2
.TP
define MAX_CALLBACK_SUBIDS 16
.PP
\fBSee also: \fP
.in +1c
\fBsnmp_call_callbacks\fP , \fBsnmp_unregister_callback\fP 
.PP
Definition at line 106 of file callback.c.
.PP
Referenced by netsnmp_register_save_list().
.SS "int snmp_unregister_callback (int major, int minor, SNMPCallback * target, void * arg, int matchargs)"
.PP
This function unregisters a specified callback function given a major and minor type.
.PP
Note: no bound checking on major and minor.
.PP
\fBParameters: \fP
.in +1c
.TP
\fB\fImajor\fP\fP
is the SNMP callback major type used
.TP
\fB\fIminor\fP\fP
is the SNMP callback minor type used
.TP
\fB\fItarget\fP\fP
is the callback function that will be unregistered.
.TP
\fB\fIarg\fP\fP
is a void pointer used for comparison against the registered  callback's sc_client_arg variable.
.TP
\fB\fImatchargs\fP\fP
is an integer used to bypass the comparison of arg and the callback's sc_client_arg variable only when matchargs is set to 0.
.PP
\fBReturns: \fP
.in +1c
 Returns the number of callbacks that were unregistered.
.PP
\fBSee also: \fP
.in +1c
\fBsnmp_register_callback\fP , \fBsnmp_call_callbacks\fP 
.PP
Definition at line 259 of file callback.c.
.PP
References SNMP_FREE.
