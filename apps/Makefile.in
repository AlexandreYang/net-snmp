#
# Makefile for snmpget, snmpwalk, snmpbulkwalk, snmptest, snmptranslate,
# snmptrapd, snmptable, snmpset, snmpgetnext
#
SHELL = /bin/sh
srcdir = @srcdir@
VPATH = @srcdir@
@SET_MAKE@

prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = $(exec_prefix)/bin
libdir = $(exec_prefix)/lib
snmplibdir = $(prefix)/lib/snmp

INSTALL = @INSTALL@

TARG=	snmpwalk snmpbulkwalk snmptest snmptranslate snmpget snmptrapd snmpset snmpgetnext snmptrap snmpstatus
SUBDIRS=  snmpnetstat
USELIBS=  ../snmplib/libsnmp.a
LIBS=	  $(USELIBS) @LIBS@

CFLAGS=@CFLAGS@
CPPFLAGS=@CPPFLAGS@ -I.. -I$(srcdir)/.. -I$(srcdir)/../snmplib
LDFLAGS=@LDFLAGS@

CC = @CC@ $(CPPFLAGS)

all: $(TARG) subdirs

subdirs:
	for i in $(SUBDIRS) ; do \
        ( cd $$i ; $(MAKE) ) \
	done

snmpwalk:    snmpwalk.o $(USELIBS)
	${CC} -o $@ snmpwalk.o ${LDFLAGS} ${LIBS} 

snmpbulkwalk:    snmpbulkwalk.o $(USELIBS)
	${CC} -o $@ snmpbulkwalk.o ${LDFLAGS} ${LIBS} 

snmptranslate:    snmptranslate.o $(USELIBS)
	${CC} -o $@ snmptranslate.o ${LDFLAGS} ${LIBS} 

snmpstatus:    snmpstatus.o $(USELIBS)
	${CC} -o $@ snmpstatus.o ${LDFLAGS} ${LIBS} 

snmpget:    snmpget.o $(USELIBS)
	${CC} -o $@ snmpget.o ${LDFLAGS} ${LIBS} 

snmptest:    snmptest.o $(USELIBS)
	${CC} -o $@ snmptest.o ${LDFLAGS} ${LIBS} 

snmptrapd:    snmptrapd.o $(USELIBS)
	${CC} -o $@ snmptrapd.o ${LDFLAGS} ${LIBS} 

snmptrap:    snmptrap.o ../agent/kernel_sunos5.o $(USELIBS)
	${CC} -o $@ snmptrap.o ../agent/kernel_sunos5.o ${LDFLAGS} ${LIBS} 

snmpset:    snmpset.o $(USELIBS)
	${CC} -o $@ snmpset.o ${LDFLAGS} ${LIBS} 

snmpgetnext:    snmpgetnext.o $(USELIBS)
	${CC} -o $@ snmpgetnext.o ${LDFLAGS} ${LIBS} 

clean:
	rm -f *.o ${TARG}
	for i in $(SUBDIRS) ; do \
	( cd $$i ; $(MAKE) clean ) \
	done

install: installdirs subdirs $(TARG)
	for i in $(SUBDIRS) ; do \
        ( cd $$i ; $(MAKE) install ) \
	done
	@for i in $(TARG) ; do $(INSTALL) $$i $(bindir) ; echo "install:  installed $$i in $(bindir)" ; done

installdirs:
	@$(SHELL) $(srcdir)/../mkinstalldirs $(snmplibdir) $(bindir)

dependlocal: 
	makedepend $(CPPFLAGS) $(srcdir)/*.c

depend: dependlocal
	for i in $(SUBDIRS) ; do \
        ( cd $$i ; $(MAKE) depend ) \
	done

nosysdepend: dependlocal
	perl -n -i.bak -e ' if (/^# DO NOT DELETE THIS LINE/) {$$doit=1;} if ($$doit == 1) {s#/usr/include/[^\s]+##g ; s#$(srcdir)/##g; print if (! /^[\w]+\.o:\s*$$/);} else {print;}' Makefile

# DO NOT DELETE THIS LINE -- make depend depends on it.

snmpbulkwalk.o: ../config.h ../mib_module_config.h ../agent/mibgroup/struct.h
snmpbulkwalk.o: ../../cmusnmp/snmplib/asn1.h ../../cmusnmp/snmplib/snmp_api.h
snmpbulkwalk.o: ../../cmusnmp/snmplib/snmp_client.h
snmpbulkwalk.o: ../../cmusnmp/snmplib/mib.h ../../cmusnmp/snmplib/snmp.h
snmpbulkwalk.o: ../../cmusnmp/snmplib/snmp_impl.h
snmpbulkwalk.o: ../../cmusnmp/snmplib/party.h ../../cmusnmp/snmplib/context.h
snmpbulkwalk.o: ../../cmusnmp/snmplib/view.h ../../cmusnmp/snmplib/acl.h
snmpget.o: ../config.h ../mib_module_config.h ../agent/mibgroup/struct.h
snmpget.o: ../../cmusnmp/snmplib/asn1.h ../../cmusnmp/snmplib/snmp_impl.h
snmpget.o: ../../cmusnmp/snmplib/snmp_api.h
snmpget.o: ../../cmusnmp/snmplib/snmp_client.h ../../cmusnmp/snmplib/mib.h
snmpget.o: ../../cmusnmp/snmplib/snmp.h ../../cmusnmp/snmplib/party.h
snmpget.o: ../../cmusnmp/snmplib/context.h ../../cmusnmp/snmplib/view.h
snmpget.o: ../../cmusnmp/snmplib/acl.h
snmpgetnext.o: ../config.h ../mib_module_config.h ../agent/mibgroup/struct.h
snmpgetnext.o: ../../cmusnmp/snmplib/asn1.h ../../cmusnmp/snmplib/snmp_impl.h
snmpgetnext.o: ../../cmusnmp/snmplib/snmp_api.h
snmpgetnext.o: ../../cmusnmp/snmplib/snmp_client.h
snmpgetnext.o: ../../cmusnmp/snmplib/snmp.h ../../cmusnmp/snmplib/mib.h
snmpgetnext.o: ../../cmusnmp/snmplib/party.h ../../cmusnmp/snmplib/context.h
snmpgetnext.o: ../../cmusnmp/snmplib/view.h ../../cmusnmp/snmplib/acl.h
snmpset.o: ../config.h ../mib_module_config.h ../agent/mibgroup/struct.h
snmpset.o: ../../cmusnmp/snmplib/asn1.h ../../cmusnmp/snmplib/snmp_impl.h
snmpset.o: ../../cmusnmp/snmplib/snmp_api.h
snmpset.o: ../../cmusnmp/snmplib/snmp_client.h ../../cmusnmp/snmplib/mib.h
snmpset.o: ../../cmusnmp/snmplib/snmp.h ../../cmusnmp/snmplib/party.h
snmpset.o: ../../cmusnmp/snmplib/context.h ../../cmusnmp/snmplib/view.h
snmpset.o: ../../cmusnmp/snmplib/acl.h
snmpstatus.o: ../config.h ../mib_module_config.h ../agent/mibgroup/struct.h
snmpstatus.o:  ../../cmusnmp/snmplib/asn1.h
snmpstatus.o: ../../cmusnmp/snmplib/snmp_impl.h
snmpstatus.o: ../../cmusnmp/snmplib/snmp_api.h
snmpstatus.o: ../../cmusnmp/snmplib/snmp_client.h
snmpstatus.o: ../../cmusnmp/snmplib/party.h ../../cmusnmp/snmplib/context.h
snmpstatus.o: ../../cmusnmp/snmplib/view.h ../../cmusnmp/snmplib/acl.h
snmpstatus.o: ../../cmusnmp/snmplib/mib.h ../../cmusnmp/snmplib/snmp.h
snmptest.o: ../config.h ../mib_module_config.h ../agent/mibgroup/struct.h
snmptest.o: ../../cmusnmp/snmplib/asn1.h ../../cmusnmp/snmplib/snmp_impl.h
snmptest.o: ../../cmusnmp/snmplib/snmp_api.h ../../cmusnmp/snmplib/mib.h
snmptest.o: ../../cmusnmp/snmplib/snmp.h ../../cmusnmp/snmplib/snmp_client.h
snmptest.o: ../../cmusnmp/snmplib/party.h ../../cmusnmp/snmplib/context.h
snmptest.o: ../../cmusnmp/snmplib/view.h ../../cmusnmp/snmplib/acl.h
snmptranslate.o: ../config.h ../mib_module_config.h
snmptranslate.o: ../agent/mibgroup/struct.h 
snmptranslate.o: ../../cmusnmp/snmplib/asn1.h
snmptranslate.o: ../../cmusnmp/snmplib/snmp_impl.h
snmptranslate.o: ../../cmusnmp/snmplib/snmp_api.h
snmptranslate.o: ../../cmusnmp/snmplib/snmp_client.h
snmptranslate.o: ../../cmusnmp/snmplib/mib.h ../../cmusnmp/snmplib/snmp.h
snmptrap.o: ../config.h ../mib_module_config.h ../agent/mibgroup/struct.h
snmptrap.o: ../../cmusnmp/snmplib/asn1.h ../../cmusnmp/snmplib/snmp_impl.h
snmptrap.o: ../../cmusnmp/snmplib/snmp_api.h
snmptrap.o: ../../cmusnmp/snmplib/snmp_client.h ../../cmusnmp/snmplib/mib.h
snmptrap.o: ../../cmusnmp/snmplib/snmp.h ../../cmusnmp/snmplib/party.h
snmptrap.o: ../../cmusnmp/snmplib/system.h
snmptrapd.o: ../config.h ../mib_module_config.h ../agent/mibgroup/struct.h
snmptrapd.o:  ../../cmusnmp/snmplib/asn1.h
snmptrapd.o: ../../cmusnmp/snmplib/snmp_impl.h
snmptrapd.o: ../../cmusnmp/snmplib/snmp_api.h
snmptrapd.o: ../../cmusnmp/snmplib/snmp_client.h
snmptrapd.o: ../../cmusnmp/snmplib/party.h ../../cmusnmp/snmplib/view.h
snmptrapd.o: ../../cmusnmp/snmplib/acl.h ../../cmusnmp/snmplib/context.h
snmptrapd.o: ../../cmusnmp/snmplib/mib.h ../../cmusnmp/snmplib/snmp.h
snmptrapd.o: ../../cmusnmp/snmplib/system.h
snmpwalk.o: ../config.h ../mib_module_config.h ../agent/mibgroup/struct.h
snmpwalk.o: ../../cmusnmp/snmplib/asn1.h ../../cmusnmp/snmplib/snmp_api.h
snmpwalk.o: ../../cmusnmp/snmplib/snmp_client.h ../../cmusnmp/snmplib/mib.h
snmpwalk.o: ../../cmusnmp/snmplib/snmp.h ../../cmusnmp/snmplib/snmp_impl.h
snmpwalk.o: ../../cmusnmp/snmplib/party.h ../../cmusnmp/snmplib/context.h
snmpwalk.o: ../../cmusnmp/snmplib/view.h ../../cmusnmp/snmplib/acl.h
