#
# Makefile for snmpget, snmpwalk, snmpbulkwalk, snmptest, snmptranslate,
# snmptrapd, snmptable, snmpset, snmpgetnext
#
TARG=	snmpwalk snmpbulkwalk snmptest snmptranslate snmpget snmptrapd snmpset snmpgetnext
LIBS=	../lib/libsnmp.a

CFLAGS=@CFLAGS@
CPPFLAGS=@CPPFLAGS@ -I.. -I../snmplib
LDFLAGS=@LDFLAGS@

CC = @CC@ $(CPPFLAGS)

all: $(TARG)

snmpwalk:    snmpwalk.o ${LIBS}
	${CC} -o $@ snmpwalk.o ${LIBS} ${LDFLAGS}

snmpbulkwalk:    snmpbulkwalk.o ${LIBS}
	${CC} -o $@ snmpbulkwalk.o ${LIBS} ${LDFLAGS}

snmptranslate:    snmptranslate.o ${LIBS}
	${CC} -o $@ snmptranslate.o ${LIBS} ${LDFLAGS}

snmpget:    snmpget.o ${LIBS}
	${CC} -o $@ snmpget.o ${LIBS} ${LDFLAGS}

snmptest:    snmptest.o ${LIBS}
	${CC} -o $@ snmptest.o ${LIBS} ${LDFLAGS}

snmptrapd:    snmptrapd.o ${LIBS}
	${CC} -o $@ snmptrapd.o ${LIBS} ${LDFLAGS}

snmpset:    snmpset.o ${LIBS}
	${CC} -o $@ snmpset.o ${LIBS} ${LDFLAGS}

snmpgetnext:    snmpgetnext.o ${LIBS}
	${CC} -o $@ snmpgetnext.o ${LIBS} ${LDFLAGS}

clean:
	rm -f *.o ${TARG}

install:
	cp ${TARG} ../bin

depend: 
	makedepend $(CPPFLAGS) *.c
	perl -n -i.bak -e ' if (/^# DO NOT DELETE THIS LINE/) {$$doit=1;} if ($$doit == 1) {s#/usr/include/[^\s]+##g ; print if (! /^\w+\.o:\s*$$/);} else {print;}' Makefile

# DO NOT DELETE THIS LINE -- make depend depends on it.

snmpbulkwalk.o: ../config.h ../agent/extensible/struct.h
snmpbulkwalk.o:   ../snmplib/snmp.h
snmpbulkwalk.o: ../snmplib/asn1.h ../snmplib/snmp_impl.h
snmpbulkwalk.o: ../snmplib/snmp_api.h ../snmplib/snmp_client.h
snmpbulkwalk.o: ../snmplib/party.h ../snmplib/context.h ../snmplib/view.h
snmpbulkwalk.o: ../snmplib/acl.h
snmpget.o: ../config.h ../agent/extensible/struct.h 
snmpget.o:  ../snmplib/snmp.h ../snmplib/asn1.h
snmpget.o: ../snmplib/snmp_impl.h ../snmplib/snmp_api.h
snmpget.o: ../snmplib/snmp_client.h ../snmplib/party.h ../snmplib/context.h
snmpget.o: ../snmplib/view.h ../snmplib/acl.h
snmpgetnext.o: ../config.h ../agent/extensible/struct.h
snmpgetnext.o:   ../snmplib/snmp.h
snmpgetnext.o: ../snmplib/asn1.h ../snmplib/snmp_impl.h ../snmplib/snmp_api.h
snmpgetnext.o: ../snmplib/snmp_client.h ../snmplib/party.h
snmpgetnext.o: ../snmplib/context.h ../snmplib/view.h ../snmplib/acl.h
snmpset.o: ../config.h ../agent/extensible/struct.h 
snmpset.o:  ../snmplib/snmp.h ../snmplib/asn1.h
snmpset.o: ../snmplib/snmp_impl.h ../snmplib/snmp_api.h
snmpset.o: ../snmplib/snmp_client.h ../snmplib/party.h ../snmplib/context.h
snmpset.o: ../snmplib/view.h ../snmplib/acl.h
snmptest.o: ../config.h ../agent/extensible/struct.h 
snmptest.o:  ../snmplib/snmp.h ../snmplib/asn1.h
snmptest.o: ../snmplib/snmp_impl.h ../snmplib/snmp_api.h
snmptest.o: ../snmplib/snmp_client.h ../snmplib/party.h ../snmplib/context.h
snmptest.o: ../snmplib/view.h ../snmplib/acl.h
snmptranslate.o: ../config.h ../agent/extensible/struct.h
snmptranslate.o:   ../snmplib/snmp.h
snmptranslate.o: ../snmplib/asn1.h ../snmplib/snmp_impl.h
snmptranslate.o: ../snmplib/snmp_api.h ../snmplib/snmp_client.h
snmptrapd.o: ../config.h ../agent/extensible/struct.h
snmptrapd.o:  ../snmplib/snmp.h ../snmplib/asn1.h
snmptrapd.o: ../snmplib/snmp_impl.h ../snmplib/snmp_api.h
snmptrapd.o: ../snmplib/snmp_client.h ../snmplib/party.h ../snmplib/view.h
snmptrapd.o: ../snmplib/acl.h
snmpwalk.o: ../config.h ../agent/extensible/struct.h 
snmpwalk.o: ../snmplib/snmp.h ../snmplib/asn1.h ../snmplib/snmp_impl.h
snmpwalk.o: ../snmplib/snmp_api.h ../snmplib/snmp_client.h ../snmplib/party.h
snmpwalk.o: ../snmplib/context.h ../snmplib/view.h ../snmplib/acl.h
